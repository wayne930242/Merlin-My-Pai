# CHANGELOG


## v1.21.1 (2026-01-03)

### Bug Fixes

- **discord**: Show roll result in ephemeral message
  ([`2f746fd`](https://github.com/wayne930242/weihung-pai/commit/2f746fd10316ccc99de5aaa97f8f7031ac409085))


## v1.21.0 (2026-01-03)

### Features

- **discord**: Dice panel with history message
  ([`f53151f`](https://github.com/wayne930242/weihung-pai/commit/f53151f321757870cce9ba94c992adb84e1c944a))


## v1.20.0 (2026-01-03)

### Features

- **discord**: Add dice accumulation with per-user panels
  ([`9b000ed`](https://github.com/wayne930242/weihung-pai/commit/9b000edfc5748f0dcad666cd7036b123e840f1ae))

### Refactoring

- **discord**: Simplify /panel command syntax
  ([`20e510a`](https://github.com/wayne930242/weihung-pai/commit/20e510a74002e549d1ee9e5f5c5299ffb1cadd36))


## v1.19.0 (2026-01-03)

### Features

- **discord**: Add /panel slash command for control panel
  ([`21f2fb6`](https://github.com/wayne930242/weihung-pai/commit/21f2fb6bf0060bf24ad09df39f3b554dd867b690))


## v1.18.0 (2026-01-03)

### Features

- **discord**: Add sound effects for soundboard panel
  ([`af4d7d5`](https://github.com/wayne930242/weihung-pai/commit/af4d7d5e5d73cbced455b0003a3d1c606b4e99c9))


## v1.17.1 (2026-01-03)

### Bug Fixes

- **discord**: Improve voice connection state tracking
  ([`fdae86d`](https://github.com/wayne930242/weihung-pai/commit/fdae86d1e3eeeb1ac6305601163358b199bdaf9d))

### Refactoring

- **discord**: Remove emojis from music panel UI
  ([`607ee09`](https://github.com/wayne930242/weihung-pai/commit/607ee094631ec1bf9dd5964832dca2b769f3d09b))


## v1.17.0 (2026-01-03)

### Features

- **discord**: Improve music panel with queue display and track selection
  ([`16268f5`](https://github.com/wayne930242/weihung-pai/commit/16268f56c4f5bf241ab0c337027b4422602d0694))

### Refactoring

- **discord**: Split handlers.ts into modular structure
  ([`ed3643f`](https://github.com/wayne930242/weihung-pai/commit/ed3643ffe549c8c6f03f3e9d04d8a0830eb5df5b))


## v1.16.0 (2026-01-03)

### Chores

- Add YouTube API key to vault
  ([`e75841b`](https://github.com/wayne930242/weihung-pai/commit/e75841bb2be747ed1d088a78d04b52909918b9f8))

### Features

- **discord**: Add music control panel and MCP tools
  ([`bd032f1`](https://github.com/wayne930242/weihung-pai/commit/bd032f1a484cf65758af477aa338183a9fe7b6b9))


## v1.15.0 (2026-01-03)

### Features

- **bot**: Add voice channel context to session
  ([`903d47e`](https://github.com/wayne930242/weihung-pai/commit/903d47e66d4f3f5bec49e1507c38bce863cd92b2))

- **discord**: Add YouTube music playback
  ([`3f1589a`](https://github.com/wayne930242/weihung-pai/commit/3f1589a6c625ea4059ad4e783f7f7b3e008f3e5e))

- **scripts**: Add discord invite command
  ([`727b439`](https://github.com/wayne930242/weihung-pai/commit/727b4397334bf692c2c8ab2feaef62fd89e6ec4b))


## v1.14.0 (2026-01-03)

### Features

- **bot**: Add time context to session prompt
  ([`f2db31f`](https://github.com/wayne930242/weihung-pai/commit/f2db31ffdf60b716524fa176a43d8f82ee663c2d))


## v1.13.0 (2026-01-03)

### Features

- **ansible**: Add Python and uv to VPS setup
  ([`84d6831`](https://github.com/wayne930242/weihung-pai/commit/84d683151dc288a01f25a66c9a00d91394b8fee5))

- **bot**: Add Garmin Connect integration
  ([`25bf8b4`](https://github.com/wayne930242/weihung-pai/commit/25bf8b48ed88400d72addc52e278fda78d4e1172))

- **skills**: Refactor daily skill to life management system
  ([`3963664`](https://github.com/wayne930242/weihung-pai/commit/39636647a95651a5a5a2bf846842d6d999d743f7))


## v1.12.0 (2026-01-03)

### Features

- **bot**: Inject session context into Claude prompts
  ([`8698f9b`](https://github.com/wayne930242/weihung-pai/commit/8698f9b8d5a4219c6c014abc374e4b5f20cb2530))


## v1.11.0 (2026-01-03)

### Features

- **bot**: Add session tracking and HQ notification system
  ([`60470a7`](https://github.com/wayne930242/weihung-pai/commit/60470a7232a87ec84c988544927ffea5ab4e3b63))


## v1.10.0 (2026-01-02)

### Features

- **merlin**: Add proactive agent capabilities
  ([`2e3c7e6`](https://github.com/wayne930242/weihung-pai/commit/2e3c7e64e431faea060f7abc1092521b330f5e72))

### Refactoring

- **pai-claude**: Simplify config structure
  ([`7125daf`](https://github.com/wayne930242/weihung-pai/commit/7125dafecdb039f7fe81faa26e1315ea219913b0))

- **workspace**: Use whitelist pattern for gitignore
  ([`f3222ac`](https://github.com/wayne930242/weihung-pai/commit/f3222ac93b34ae9a190f9c6f922017d3f0d725fa))


## v1.9.4 (2026-01-02)

### Bug Fixes

- **db**: Add migration support for schema changes
  ([`0ba1cc0`](https://github.com/wayne930242/weihung-pai/commit/0ba1cc0391f5a6494462ef325678b96d400bb0e0))

- **discord**: Use displayName for channel context author
  ([`3a57fc0`](https://github.com/wayne930242/weihung-pai/commit/3a57fc0fce93a28a506bd1eca4cdbc4995d6e832))


## v1.9.3 (2026-01-02)

### Bug Fixes

- **discord**: Improve channel context handling and prevent duplicate messages
  ([`c7e5217`](https://github.com/wayne930242/weihung-pai/commit/c7e5217c6e3ad71c25b18a4dff5c27a37ae8eed6))


## v1.9.2 (2026-01-02)

### Bug Fixes

- Trigger release workflow for v1.9.1
  ([`0f247a6`](https://github.com/wayne930242/weihung-pai/commit/0f247a64fa6edc0d9666132e1ee023062d48cfd3))


## v1.9.1 (2026-01-02)

### Refactoring

- Fetch channel context from Discord API directly
  ([`71a6f42`](https://github.com/wayne930242/weihung-pai/commit/71a6f420339ee0e51ab085ade5a37170845ee80c))


## v1.9.0 (2026-01-02)

### Features

- Add calendar event update support to Google MCP tools
  ([`5cc5392`](https://github.com/wayne930242/weihung-pai/commit/5cc539233f5c7f9910dabf285eb4b215e0391e52))


## v1.8.3 (2026-01-02)

### Bug Fixes

- Include all users in Discord channel context
  ([`0f58a6e`](https://github.com/wayne930242/weihung-pai/commit/0f58a6e6664fc0aa88e944f3c7b5e9c984164ad1))


## v1.8.2 (2026-01-02)

### Bug Fixes

- Improve error logging and handling
  ([`db72ce6`](https://github.com/wayne930242/weihung-pai/commit/db72ce6d39c5b6d617853df82620c819473ac4b0))


## v1.8.1 (2026-01-02)

### Bug Fixes

- Exclude allowed users from channel context query
  ([`602bf13`](https://github.com/wayne930242/weihung-pai/commit/602bf139b20619e0aa95eafb9d25d9109b25baf7))


## v1.8.0 (2026-01-02)

### Documentation

- Update site content to reflect current features
  ([`6daae1d`](https://github.com/wayne930242/weihung-pai/commit/6daae1d978545bdb2da74adc31061cf010236b11))

### Features

- Add Discord platform support with channel-based sessions
  ([`f55650e`](https://github.com/wayne930242/weihung-pai/commit/f55650e217a35853a92ab04ade85eaa0d90b3c39))


## v1.7.1 (2026-01-02)

### Bug Fixes

- Capture stderr in parallel to prevent data loss
  ([`08d527e`](https://github.com/wayne930242/weihung-pai/commit/08d527e620bdbeea2eb7383e06377ec4a63f0a0b))


## v1.7.0 (2026-01-02)

### Features

- Add voice transcription using Gemini
  ([`cb8fe11`](https://github.com/wayne930242/weihung-pai/commit/cb8fe113c30a9ccc51eac745073c330dc924ddff))


## v1.6.2 (2026-01-01)

### Bug Fixes

- Correct pai-setup command in README
  ([`2cb54f2`](https://github.com/wayne930242/weihung-pai/commit/2cb54f249d6205dc02b8f4aada1b6cc1bb6c5b2c))


## v1.6.1 (2026-01-01)

### Bug Fixes

- Use plain text for notify API messages
  ([`0fb8e84`](https://github.com/wayne930242/weihung-pai/commit/0fb8e842d17714bfddf3202c974414a05e462612))


## v1.6.0 (2026-01-01)

### Features

- Add task queue system with interrupt/queue options
  ([`e5403dd`](https://github.com/wayne930242/weihung-pai/commit/e5403dd8c047c6ffc200405eefe8cddaa9bbe447))


## v1.5.13 (2026-01-01)

### Bug Fixes

- Use @grammyjs/parse-mode for proper MarkdownV2 escaping
  ([`312f4cf`](https://github.com/wayne930242/weihung-pai/commit/312f4cfc8f5197963f6b7643e4fed25662858963))

### Refactoring

- Remove misclassified agents, merge into coding skill
  ([`55511e2`](https://github.com/wayne930242/weihung-pai/commit/55511e2136d15ea50858dad50177102263b50895))

- Rewrite commands and rules in English
  ([`567e032`](https://github.com/wayne930242/weihung-pai/commit/567e0324943789b5aaba9be68b5eaba63d0e9880))


## v1.5.12 (2026-01-01)

### Bug Fixes

- Read bot logs from file instead of journalctl
  ([`3dd8303`](https://github.com/wayne930242/weihung-pai/commit/3dd8303dbc0813aabe3c1bbff3a7dfbc570ea619))


## v1.5.11 (2026-01-01)

### Bug Fixes

- Show detailed error message in telegram replies
  ([`23a02b0`](https://github.com/wayne930242/weihung-pai/commit/23a02b0dbee4ff1ab986294e1d65b95aaf0f4966))


## v1.5.10 (2026-01-01)

### Bug Fixes

- Change notify success icon to arrow emoji
  ([`071e3b4`](https://github.com/wayne930242/weihung-pai/commit/071e3b4928e027df59150faebd31238f2740d793))

### Refactoring

- Rewrite Merlin CLAUDE.md in English and add notify skill
  ([`2116623`](https://github.com/wayne930242/weihung-pai/commit/21166237389e3e748ffb7fde214697c59a32ec90))

- Rewrite skills in English with improved structure
  ([`4fe718b`](https://github.com/wayne930242/weihung-pai/commit/4fe718bcb5e9b7c3461451ef64a7ada63216bbd3))


## v1.5.9 (2026-01-01)

### Bug Fixes

- Escape markdown in notify api to prevent parse errors
  ([`7423620`](https://github.com/wayne930242/weihung-pai/commit/74236204a4affb64f80d664d94f3c4871e24cbd6))


## v1.5.8 (2026-01-01)

### Bug Fixes

- Use PostToolUse for Task notifications with full details
  ([`8ea0b74`](https://github.com/wayne930242/weihung-pai/commit/8ea0b7435d7e8492ec47f7cbee03e7b617b501b2))


## v1.5.7 (2026-01-01)

### Bug Fixes

- Restore --verbose flag and fix duplicate notification icons
  ([`8d86fb9`](https://github.com/wayne930242/weihung-pai/commit/8d86fb9d3d5dedd5f208a263a94f4db374587ae8))


## v1.5.6 (2026-01-01)

### Bug Fixes

- Correct SSH key extraction in deploy workflow
  ([`3c2ab03`](https://github.com/wayne930242/weihung-pai/commit/3c2ab037a03d6585bdc83f05d51a40728206118f))


## v1.5.5 (2026-01-01)

### Bug Fixes

- Improve hook notifications with more details
  ([`0683ff8`](https://github.com/wayne930242/weihung-pai/commit/0683ff830aaf0fa01b39fbe0dff05c5d3c8370e7))

- Move settings.json to workspace/.claude and remove session notify
  ([`f115978`](https://github.com/wayne930242/weihung-pai/commit/f115978da174f24983aec25653ab33413da86a04))

### Refactoring

- Move CLAUDE.md and scripts to workspace, update projectDir
  ([`90dccc9`](https://github.com/wayne930242/weihung-pai/commit/90dccc99affc2d51945613ba5f404737d9dee180))


## v1.5.4 (2026-01-01)

### Bug Fixes

- Correct hooks config structure and remove verbose flags
  ([`f112b80`](https://github.com/wayne930242/weihung-pai/commit/f112b805583bc642fa5734325dfe3c08e99b7762))


## v1.5.3 (2026-01-01)

### Bug Fixes

- Correct semantic-release changelog config section
  ([`c8fb7ec`](https://github.com/wayne930242/weihung-pai/commit/c8fb7ecc318ebe1bfc67d60dec3c2edf9b58d670))


## v1.5.2 (2026-01-01)

### Bug Fixes

- Enable push in semantic-release to update CHANGELOG.md
  ([`ba6ba27`](https://github.com/wayne930242/weihung-pai/commit/ba6ba279c0080019a02b0ec2a33c2a046f31eaec))


## v1.5.1 (2026-01-01)

### Bug Fixes

- Update semantic-release config for uv.lock and changelog
  ([`2f99856`](https://github.com/wayne930242/weihung-pai/commit/2f99856c4962039060baa2788ebca2bde4133255))


## v1.5.0 (2026-01-01)

### Features

- Add configurable timezone support
  ([`09e15fc`](https://github.com/wayne930242/weihung-pai/commit/09e15fc7ac2ecb20911b432e5fd0e5a6751fd51d))


## v1.4.1 (2026-01-01)

### Bug Fixes

- Correct server IP extraction in deploy workflow
  ([`31ebab1`](https://github.com/wayne930242/weihung-pai/commit/31ebab1c59620d77ad6179bbfa0a5c9eaf612d1f))


## v1.4.0 (2026-01-01)

### Features

- Add Google Tasks API support
  ([`7e98c47`](https://github.com/wayne930242/weihung-pai/commit/7e98c47ebbc41a0df265c97f0e54d6e84e6a035e))


## v1.3.0 (2026-01-01)

### Features

- Add memory soft delete and MCP tools for agent
  ([`7b00e17`](https://github.com/wayne930242/weihung-pai/commit/7b00e1738aad1f103e535721853f7a98f5c7371a))


## v1.2.0 (2026-01-01)

### Bug Fixes

- Add sqlite-vec to dependencies
  ([`d5f09b0`](https://github.com/wayne930242/weihung-pai/commit/d5f09b0e3748cb0bb2171e1b95166aa187fdc95d))

- Correct SQL parameter count in findSimilar
  ([`e5406fe`](https://github.com/wayne930242/weihung-pai/commit/e5406fe6241a9e68f273d643c9a8a751cf74eb7c))

- Use L2 distance threshold for deduplication
  ([`895603b`](https://github.com/wayne930242/weihung-pai/commit/895603b04271fd9859891233e7a6aef5dfe13a06))

### Chores

- Add gemini api key and enable memory/fabric
  ([`892b6be`](https://github.com/wayne930242/weihung-pai/commit/892b6bee27929e7861a015ac2975b3389e25e737))

- Adjust dedup threshold to 8.0
  ([`2b840fb`](https://github.com/wayne930242/weihung-pai/commit/2b840fb58d1aad3dc36b29257de3b7018d18d2a1))

- Ignore session-env directory
  ([`4de4537`](https://github.com/wayne930242/weihung-pai/commit/4de4537bedc367229a3c69df043f571e8d911a43))

- Upgrade vultr plan to 2gb ram
  ([`feb56a2`](https://github.com/wayne930242/weihung-pai/commit/feb56a25e72768708c8335c45585a228df753d35))

- Use latest haiku model alias
  ([`d03d60f`](https://github.com/wayne930242/weihung-pai/commit/d03d60ffb16c4b5b8de6b99204d44a4228a16651))

### Features

- Add Gemini 2.5 Flash support for memory extraction
  ([`5205c49`](https://github.com/wayne930242/weihung-pai/commit/5205c497ad979e53864fbf33094f864545f4cb2f))

- Add long-term memory system with sqlite-vec
  ([`28c7b48`](https://github.com/wayne930242/weihung-pai/commit/28c7b4876c135c65f31f5133de57412caccd0598))

- Add mutagen sync toggle for deploy-claude
  ([`2952e4e`](https://github.com/wayne930242/weihung-pai/commit/2952e4e9c7bbe10828cf9515e846faf2f5221f5f))

- Add Ollama installation for local embedding
  ([`f27428a`](https://github.com/wayne930242/weihung-pai/commit/f27428a4622a1f8e596eb87c9556d692690cb3c4))

- Add vault config for memory and fabric enable/disable
  ([`390aa76`](https://github.com/wayne930242/weihung-pai/commit/390aa767c871357a302f2e6667dceb707d13b489))

### Refactoring

- Use Haiku for memory extraction, disable expiry
  ([`1354e30`](https://github.com/wayne930242/weihung-pai/commit/1354e307bc82bdb7d1e55a97728bc91236ff3730))

### Testing

- Add config module tests
  ([`5990f59`](https://github.com/wayne930242/weihung-pai/commit/5990f596961dcb3fd2daec18ab8d4bcdd37bdda3))

- Add memory system integration test
  ([`f3e2846`](https://github.com/wayne930242/weihung-pai/commit/f3e2846247332a3f73ca9b7735de32fa05918575))

- Add unit tests for setup module
  ([`df5b981`](https://github.com/wayne930242/weihung-pai/commit/df5b981dead007dac2aad63f945650e8422c1152))


## v1.1.2 (2026-01-01)

### Bug Fixes

- Correct semantic-release changelog config section
  ([`d2f9ca8`](https://github.com/wayne930242/weihung-pai/commit/d2f9ca8f47ebb7465e84e3097dccbf91a1498c96))

### Performance Improvements

- Optimize deploy-claude with pipelining and single mkdir
  ([`7d39f78`](https://github.com/wayne930242/weihung-pai/commit/7d39f78e298f5f4552d7645494d9dd2d51fba21a))


## v1.1.1 (2026-01-01)

### Performance Improvements

- Optimize deploy pipeline with uv cache and bun lockfile hash
  ([`93bb23d`](https://github.com/wayne930242/weihung-pai/commit/93bb23d15161c4a04cc941d9454e13c79338ddbe))


## v1.1.0 (2026-01-01)

### Bug Fixes

- Update semantic-release changelog config for v10 compatibility
  ([`76a2cd9`](https://github.com/wayne930242/weihung-pai/commit/76a2cd97fce20edd2c4bbd8ca018f798f93a1b3b))

### Features

- **scheduler**: Add execution logs, update tool, and error notifications
  ([`952776a`](https://github.com/wayne930242/weihung-pai/commit/952776a5e1ee1c60920f035d2d8784257f5bbcd9))

### Refactoring

- Move workspace gitignore rules to local file
  ([`83fd538`](https://github.com/wayne930242/weihung-pai/commit/83fd538702a851fdc35af05d40aea6be3f7a391e))


## v1.0.1 (2026-01-01)

### Bug Fixes

- Correct semantic-release workflow
  ([`c414b9b`](https://github.com/wayne930242/weihung-pai/commit/c414b9bdafb272426bbca3e25a94069a2e3ac2ad))


## v1.0.0 (2026-01-01)

- Initial Release
